<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Module:Annotated link - Wikipedia</title>
<script>(function(){var className="client-js vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 vector-feature-night-mode-enabled skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-available";var cookie=document.cookie.match(/(?:^|; )enwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"a419a6ac-6ccc-4dc2-b622-33049a99c76a","wgCanonicalNamespace":"Module","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":828,"wgPageName":"Module:Annotated_link","wgTitle":"Annotated link","wgCurRevisionId":1193211851,"wgRevisionId":1193211851,"wgArticleId":72939816,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Wikipedia template-protected modules","Pages displaying wikidata descriptions as a fallback via Module:Annotated link","Modules subject to page protection","WikiProject Short descriptions","Link modules"],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"Scribunto","wgRelevantPageName":"Module:Annotated_link","wgRelevantArticleId":72939816,"wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":["templateeditor"],"wgRestrictionMove":["templateeditor"],"wgNoticeProject":"wikipedia","wgCiteReferencePreviewsActive":false,"wgFlaggedRevsParams":{"tags":{"status":{"levels":1}}},"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgPopupsFlags":0,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"watchlist":true,"tagline":false,"nearby":true},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":10000,"wgEditSubmitButtonLabelPublish":true,"wgULSPosition":"interlanguage","wgULSisCompactLinksEnabled":false,"wgVector2022LanguageInHeader":true,"wgULSisLanguageSelectorEmpty":false,"wgWikibaseItemId":"Q123531641","wgCheckUserClientHintsHeadersJsApi":["brands","architecture","bitness","fullVersionList","mobile","model","platform","platformVersion"],"GEHomepageSuggestedEditsEnableTopics":true,"wgGETopicsMatchModeEnabled":false,"wgGELevelingUpEnabledForUser":false};
RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.search.codex.styles":"ready","skins.vector.styles":"ready","skins.vector.icons":"ready","ext.wikimediamessages.styles":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","wikibase.client.init":"ready"};RLPAGEMODULES=["ext.pygments.view","site","mediawiki.page.ready","mediawiki.toc","skins.vector.js","ext.centralNotice.geoIP","ext.centralNotice.startUp","ext.gadget.ReferenceTooltips","ext.gadget.switcher","ext.urlShortener.toolbar","ext.centralauth.centralautologin","mmv.bootstrap","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.echo.centralauth","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.interface","ext.cx.eventlogging.campaigns","wikibase.client.vector-2022","ext.checkUser.clientHints"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.pygments%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediamessages.styles%7Cskins.vector.icons%2Cstyles%7Cskins.vector.search.codex.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector-2022">
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector-2022"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector-2022">
<meta name="generator" content="MediaWiki 1.44.0-wmf.22">
<meta name="referrer" content="origin">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=1120">
<meta property="og:title" content="Module:Annotated link - Wikipedia">
<meta property="og:type" content="website">
<link rel="preconnect" href="//upload.wikimedia.org">
<link rel="alternate" media="only screen and (max-width: 640px)" href="//en.m.wikipedia.org/wiki/Module:Annotated_link">
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png">
<link rel="icon" href="/static/favicon/wikipedia.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/w/rest.php/v1/search" title="Wikipedia (en)">
<link rel="EditURI" type="application/rsd+xml" href="//en.wikipedia.org/w/api.php?action=rsd">
<link rel="canonical" href="https://en.wikipedia.org/wiki/Module:Annotated_link">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">
<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<link rel="dns-prefetch" href="login.wikimedia.org">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-828 ns-subject page-Module_Annotated_link rootpage-Module_Annotated_link skin-vector-2022 action-view"><a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	<header class="vector-header mw-header">
		<div class="vector-header-start">
			<nav class="vector-main-menu-landmark" aria-label="Site">
				
<div id="vector-main-menu-dropdown" class="vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right"  title="Main menu" >
	<input type="checkbox" id="vector-main-menu-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-main-menu-dropdown" class="vector-dropdown-checkbox "  aria-label="Main menu"  >
	<label id="vector-main-menu-dropdown-label" for="vector-main-menu-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-menu mw-ui-icon-wikimedia-menu"></span>

<span class="vector-dropdown-label-text">Main menu</span>
	</label>
	<div class="vector-dropdown-content">


				<div id="vector-main-menu-unpinned-container" class="vector-unpinned-container">
		
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-main-menu-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="main-menu-pinned"
	data-pinnable-element-id="vector-main-menu"
	data-pinned-container-id="vector-main-menu-pinned-container"
	data-unpinned-container-id="vector-main-menu-unpinned-container"
>
	<div class="vector-pinnable-header-label">Main menu</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-main-menu.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-main-menu.unpin">hide</button>
</div>

	
<div id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation"  >
	<div class="vector-menu-heading">
		Navigation
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-mainpage-description" class="mw-list-item"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li><li id="n-contents" class="mw-list-item"><a href="/wiki/Wikipedia:Contents" title="Guides to browsing Wikipedia"><span>Contents</span></a></li><li id="n-currentevents" class="mw-list-item"><a href="/wiki/Portal:Current_events" title="Articles related to current events"><span>Current events</span></a></li><li id="n-randompage" class="mw-list-item"><a href="/wiki/Special:Random" title="Visit a randomly selected article [x]" accesskey="x"><span>Random article</span></a></li><li id="n-aboutsite" class="mw-list-item"><a href="/wiki/Wikipedia:About" title="Learn about Wikipedia and how it works"><span>About Wikipedia</span></a></li><li id="n-contactpage" class="mw-list-item"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia"><span>Contact us</span></a></li>
		</ul>
		
	</div>
</div>

	
	
<div id="p-interaction" class="vector-menu mw-portlet mw-portlet-interaction"  >
	<div class="vector-menu-heading">
		Contribute
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-help" class="mw-list-item"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia"><span>Help</span></a></li><li id="n-introduction" class="mw-list-item"><a href="/wiki/Help:Introduction" title="Learn how to edit Wikipedia"><span>Learn to edit</span></a></li><li id="n-portal" class="mw-list-item"><a href="/wiki/Wikipedia:Community_portal" title="The hub for editors"><span>Community portal</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes to Wikipedia [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-upload" class="mw-list-item"><a href="/wiki/Wikipedia:File_upload_wizard" title="Add images or other media for use on Wikipedia"><span>Upload file</span></a></li><li id="n-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages"><span>Special pages</span></a></li>
		</ul>
		
	</div>
</div>

</div>

				</div>

	</div>
</div>

		</nav>
			
<a href="/wiki/Main_Page" class="mw-logo">
	<img class="mw-logo-icon" src="/static/images/icons/wikipedia.png" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container skin-invert">
		<img class="mw-logo-wordmark" alt="Wikipedia" src="/static/images/mobile/copyright/wikipedia-wordmark-en.svg" style="width: 7.5em; height: 1.125em;">
		<img class="mw-logo-tagline" alt="The Free Encyclopedia" src="/static/images/mobile/copyright/wikipedia-tagline-en.svg" width="117" height="13" style="width: 7.3125em; height: 0.8125em;">
	</span>
</a>

		</div>
		<div class="vector-header-end">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="/wiki/Special:Search" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only search-toggle" title="Search Wikipedia [f]" accesskey="f"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
	</a>
	<div class="vector-typeahead-search-container">
		<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail cdx-typeahead-search--auto-expand-width">
			<form action="/w/index.php" id="searchform" class="cdx-search-input cdx-search-input--has-end-button">
				<div id="simpleSearch" class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
					<div class="cdx-text-input cdx-text-input--has-start-icon">
						<input
							class="cdx-text-input__input"
							 type="search" name="search" placeholder="Search Wikipedia" aria-label="Search Wikipedia" autocapitalize="sentences" title="Search Wikipedia [f]" accesskey="f" id="searchInput"
							>
						<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
					</div>
					<input type="hidden" name="title" value="Special:Search">
				</div>
				<button class="cdx-button cdx-search-input__end-button">Search</button>
			</form>
		</div>
	</div>
</div>

			<nav class="vector-user-links vector-user-links-wide" aria-label="Personal tools">
	<div class="vector-user-links-main">
	
<div id="p-vector-user-menu-preferences" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-userpage" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	<nav class="vector-appearance-landmark" aria-label="Appearance">
		
<div id="vector-appearance-dropdown" class="vector-dropdown "  title="Change the appearance of the page&#039;s font size, width, and color" >
	<input type="checkbox" id="vector-appearance-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-appearance-dropdown" class="vector-dropdown-checkbox "  aria-label="Appearance"  >
	<label id="vector-appearance-dropdown-label" for="vector-appearance-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-appearance mw-ui-icon-wikimedia-appearance"></span>

<span class="vector-dropdown-label-text">Appearance</span>
	</label>
	<div class="vector-dropdown-content">


			<div id="vector-appearance-unpinned-container" class="vector-unpinned-container">
				
			</div>
		
	</div>
</div>

	</nav>
	
<div id="p-vector-user-menu-notifications" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="pt-sitesupport-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=en.wikipedia.org&amp;uselang=en" class=""><span>Donate</span></a>
</li>
<li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="/w/index.php?title=Special:CreateAccount&amp;returnto=Module%3AAnnotated+link" title="You are encouraged to create an account and log in; however, it is not mandatory" class=""><span>Create account</span></a>
</li>
<li id="pt-login-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw="interface" href="/w/index.php?title=Special:UserLogin&amp;returnto=Module%3AAnnotated+link" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o" class=""><span>Log in</span></a>
</li>

			
		</ul>
		
	</div>
</div>

	</div>
	
<div id="vector-user-links-dropdown" class="vector-dropdown vector-user-menu vector-button-flush-right vector-user-menu-logged-out"  title="Log in and more options" >
	<input type="checkbox" id="vector-user-links-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-user-links-dropdown" class="vector-dropdown-checkbox "  aria-label="Personal tools"  >
	<label id="vector-user-links-dropdown-label" for="vector-user-links-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

<span class="vector-dropdown-label-text">Personal tools</span>
	</label>
	<div class="vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal user-links-collapsible-item"  title="User menu" >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-sitesupport" class="user-links-collapsible-item mw-list-item"><a href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=en.wikipedia.org&amp;uselang=en"><span>Donate</span></a></li><li id="pt-createaccount" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=Module%3AAnnotated+link" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="vector-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></li><li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Module%3AAnnotated+link" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o"><span class="vector-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-user-menu-anon-editor" class="vector-menu mw-portlet mw-portlet-user-menu-anon-editor"  >
	<div class="vector-menu-heading">
		Pages for logged out editors <a href="/wiki/Help:Introduction" aria-label="Learn more about editing"><span>learn more</span></a>
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-anoncontribs" class="mw-list-item"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y"><span>Contributions</span></a></li><li id="pt-anontalk" class="mw-list-item"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n"><span>Talk</span></a></li>
		</ul>
		
	</div>
</div>

	
	</div>
</div>

</nav>

		</div>
	</header>
</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-sitenotice-container">
			<div id="siteNotice"><!-- CentralNotice --></div>
		</div>
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		<div id="mw-navigation">
			<nav id="mw-panel" class="vector-main-menu-landmark" aria-label="Site">
				<div id="vector-main-menu-pinned-container" class="vector-pinned-container">
				
				</div>
		</nav>
		</div>
	</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="toc-pinned"
	data-pinnable-element-id="vector-toc"
	
	
>
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text"
			class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">(Top)</div>
			</a>
		</li>
		<li id="toc-Usage"
		class="vector-toc-list-item vector-toc-level-1 vector-toc-list-item-expanded">
		<a class="vector-toc-link" href="#Usage">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>Usage</span>
			</div>
		</a>
		
			<button aria-controls="toc-Usage-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Usage subsection</span>
			</button>
		
		<ul id="toc-Usage-sublist" class="vector-toc-list">
			<li id="toc-name"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#name">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.1</span>
					<span>name</span>
				</div>
			</a>
			
			<ul id="toc-name-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-display"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#display">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.2</span>
					<span>display</span>
				</div>
			</a>
			
			<ul id="toc-display-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-quote"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#quote">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.3</span>
					<span>quote</span>
				</div>
			</a>
			
			<ul id="toc-quote-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-abbr"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#abbr">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.4</span>
					<span>abbr</span>
				</div>
			</a>
			
			<ul id="toc-abbr-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-template_link"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#template_link">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.5</span>
					<span>template_link</span>
				</div>
			</a>
			
			<ul id="toc-template_link-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-aka"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#aka">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.6</span>
					<span>aka</span>
				</div>
			</a>
			
			<ul id="toc-aka-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-wedge"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#wedge">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.7</span>
					<span>wedge</span>
				</div>
			</a>
			
			<ul id="toc-wedge-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-dash"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#dash">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.8</span>
					<span>dash</span>
				</div>
			</a>
			
			<ul id="toc-dash-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-desc_first_letter_case"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#desc_first_letter_case">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.9</span>
					<span>desc_first_letter_case</span>
				</div>
			</a>
			
			<ul id="toc-desc_first_letter_case-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-prefix_parentheses"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#prefix_parentheses">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.10</span>
					<span>prefix_parentheses</span>
				</div>
			</a>
			
			<ul id="toc-prefix_parentheses-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-space_cat"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#space_cat">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.11</span>
					<span>space_cat</span>
				</div>
			</a>
			
			<ul id="toc-space_cat-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Module:GetShortDescription_parameters"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Module:GetShortDescription_parameters">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.12</span>
					<span>Module:GetShortDescription parameters</span>
				</div>
			</a>
			
			<ul id="toc-Module:GetShortDescription_parameters-sublist" class="vector-toc-list">
				<li id="toc-only"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#only">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.12.1</span>
					<span>only</span>
				</div>
			</a>
			
			<ul id="toc-only-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-prefer"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#prefer">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.12.2</span>
					<span>prefer</span>
				</div>
			</a>
			
			<ul id="toc-prefer-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-fallback"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#fallback">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.12.3</span>
					<span>fallback</span>
				</div>
			</a>
			
			<ul id="toc-fallback-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Foreign_language_text"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Foreign_language_text">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.13</span>
					<span>Foreign language text</span>
				</div>
			</a>
			
			<ul id="toc-Foreign_language_text-sublist" class="vector-toc-list">
				<li id="toc-link_lang"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#link_lang">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.13.1</span>
					<span>link_lang</span>
				</div>
			</a>
			
			<ul id="toc-link_lang-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-aka_lang"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#aka_lang">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.13.2</span>
					<span>aka_lang</span>
				</div>
			</a>
			
			<ul id="toc-aka_lang-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-wedge_lang"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#wedge_lang">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">1.13.3</span>
					<span>wedge_lang</span>
				</div>
			</a>
			
			<ul id="toc-wedge_lang-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body">
				<header class="mw-body-header vector-page-titlebar">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left"  title="Table of Contents" >
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox "  aria-label="Toggle the table of contents"  >
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-namespace">Module</span><span class="mw-page-title-separator">:</span><span class="mw-page-title-main">Annotated link</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang"  >
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 10 languages"   >
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-10" aria-hidden="true"  ><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">10 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-bcl mw-list-item"><a href="https://bcl.wikipedia.org/wiki/Module:Annotated_link" title="Module:Annotated link – Central Bikol" lang="bcl" hreflang="bcl" data-title="Module:Annotated link" data-language-autonym="Bikol Central" data-language-local-name="Central Bikol" class="interlanguage-link-target"><span>Bikol Central</span></a></li><li class="interlanguage-link interwiki-fa mw-list-item"><a href="https://fa.wikipedia.org/wiki/%D9%BE%D9%88%D8%AF%D9%85%D8%A7%D9%86:Annotated_link" title="پودمان:Annotated link – Persian" lang="fa" hreflang="fa" data-title="پودمان:Annotated link" data-language-autonym="فارسی" data-language-local-name="Persian" class="interlanguage-link-target"><span>فارسی</span></a></li><li class="interlanguage-link interwiki-gl mw-list-item"><a href="https://gl.wikipedia.org/wiki/M%C3%B3dulo:Annotated_link" title="Módulo:Annotated link – Galician" lang="gl" hreflang="gl" data-title="Módulo:Annotated link" data-language-autonym="Galego" data-language-local-name="Galician" class="interlanguage-link-target"><span>Galego</span></a></li><li class="interlanguage-link interwiki-kaa mw-list-item"><a href="https://kaa.wikipedia.org/wiki/Module:Annotated_link" title="Module:Annotated link – Kara-Kalpak" lang="kaa" hreflang="kaa" data-title="Module:Annotated link" data-language-autonym="Qaraqalpaqsha" data-language-local-name="Kara-Kalpak" class="interlanguage-link-target"><span>Qaraqalpaqsha</span></a></li><li class="interlanguage-link interwiki-si mw-list-item"><a href="https://si.wikipedia.org/wiki/Module:Annotated_link" title="Module:Annotated link – Sinhala" lang="si" hreflang="si" data-title="Module:Annotated link" data-language-autonym="සිංහල" data-language-local-name="Sinhala" class="interlanguage-link-target"><span>සිංහල</span></a></li><li class="interlanguage-link interwiki-tl mw-list-item"><a href="https://tl.wikipedia.org/wiki/Module:Annotated_link" title="Module:Annotated link – Tagalog" lang="tl" hreflang="tl" data-title="Module:Annotated link" data-language-autonym="Tagalog" data-language-local-name="Tagalog" class="interlanguage-link-target"><span>Tagalog</span></a></li><li class="interlanguage-link interwiki-th mw-list-item"><a href="https://th.wikipedia.org/wiki/%E0%B8%A1%E0%B8%AD%E0%B8%94%E0%B8%B9%E0%B8%A5:Annotated_link" title="มอดูล:Annotated link – Thai" lang="th" hreflang="th" data-title="มอดูล:Annotated link" data-language-autonym="ไทย" data-language-local-name="Thai" class="interlanguage-link-target"><span>ไทย</span></a></li><li class="interlanguage-link interwiki-uk mw-list-item"><a href="https://uk.wikipedia.org/wiki/%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C:Annotated_link" title="Модуль:Annotated link – Ukrainian" lang="uk" hreflang="uk" data-title="Модуль:Annotated link" data-language-autonym="Українська" data-language-local-name="Ukrainian" class="interlanguage-link-target"><span>Українська</span></a></li><li class="interlanguage-link interwiki-vi mw-list-item"><a href="https://vi.wikipedia.org/wiki/M%C3%B4_%C4%91un:Annotated_link" title="Mô đun:Annotated link – Vietnamese" lang="vi" hreflang="vi" data-title="Mô đun:Annotated link" data-language-autonym="Tiếng Việt" data-language-local-name="Vietnamese" class="interlanguage-link-target"><span>Tiếng Việt</span></a></li><li class="interlanguage-link interwiki-dtp mw-list-item"><a href="https://dtp.wikipedia.org/wiki/Modul:Annotated_link" title="Modul:Annotated link – Central Dusun" lang="dtp" hreflang="dtp" data-title="Modul:Annotated link" data-language-autonym="Kadazandusun" data-language-local-name="Central Dusun" class="interlanguage-link-target"><span>Kadazandusun</span></a></li>
			</ul>
			<div class="after-portlet after-portlet-lang"><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q123531641#sitelinks-wikipedia" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>
		</div>

	</div>
</div>
</header>
				<div class="vector-page-toolbar">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="Namespaces">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-module" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/Module:Annotated_link" title="View the module page [c]" accesskey="c"><span>Module</span></a></li><li id="ca-talk" class="vector-tab-noicon mw-list-item"><a href="/wiki/Module_talk:Annotated_link" rel="discussion" title="Discuss improvements to the content page [t]" accesskey="t"><span>Talk</span></a></li>
		</ul>
		
	</div>
</div>

								
<div id="vector-variants-dropdown" class="vector-dropdown emptyPortlet"  >
	<input type="checkbox" id="vector-variants-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-variants-dropdown" class="vector-dropdown-checkbox " aria-label="Change language variant"   >
	<label id="vector-variants-dropdown-label" for="vector-variants-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">English</span>
	</label>
	<div class="vector-dropdown-content">


					
<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

				
	</div>
</div>

							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="Views">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/Module:Annotated_link"><span>Read</span></a></li><li id="ca-viewsource" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=Module:Annotated_link&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e"><span>View source</span></a></li><li id="ca-history" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=Module:Annotated_link&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="Page tools">
								
<div id="vector-page-tools-dropdown" class="vector-dropdown vector-page-tools-dropdown"  >
	<input type="checkbox" id="vector-page-tools-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-tools-dropdown" class="vector-dropdown-checkbox "  aria-label="Tools"  >
	<label id="vector-page-tools-dropdown-label" for="vector-page-tools-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">Tools</span>
	</label>
	<div class="vector-dropdown-content">


									<div id="vector-page-tools-unpinned-container" class="vector-unpinned-container">
						
<div id="vector-page-tools" class="vector-page-tools vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-page-tools-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="page-tools-pinned"
	data-pinnable-element-id="vector-page-tools"
	data-pinned-container-id="vector-page-tools-pinned-container"
	data-unpinned-container-id="vector-page-tools-unpinned-container"
>
	<div class="vector-pinnable-header-label">Tools</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-page-tools.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-page-tools.unpin">hide</button>
</div>

	
<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-has-collapsible-items"  title="More options" >
	<div class="vector-menu-heading">
		Actions
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="/wiki/Module:Annotated_link"><span>Read</span></a></li><li id="ca-more-viewsource" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=Module:Annotated_link&amp;action=edit"><span>View source</span></a></li><li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=Module:Annotated_link&amp;action=history"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-tb" class="vector-menu mw-portlet mw-portlet-tb"  >
	<div class="vector-menu-heading">
		General
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/Module:Annotated_link" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/Module:Annotated_link" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-upload" class="mw-list-item"><a href="//en.wikipedia.org/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u"><span>Upload file</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=Module:Annotated_link&amp;oldid=1193211851" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=Module:Annotated_link&amp;action=info" title="More information about this page"><span>Page information</span></a></li><li id="t-urlshortener" class="mw-list-item"><a href="/w/index.php?title=Special:UrlShortener&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FModule%3AAnnotated_link"><span>Get shortened URL</span></a></li><li id="t-urlshortener-qrcode" class="mw-list-item"><a href="/w/index.php?title=Special:QrCode&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FModule%3AAnnotated_link"><span>Download QR code</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-electronpdfservice-sidebar-portlet-heading" class="vector-menu mw-portlet mw-portlet-electronpdfservice-sidebar-portlet-heading"  >
	<div class="vector-menu-heading">
		Print/export
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="electron-print_pdf" class="mw-list-item"><a href="/w/index.php?title=Special:DownloadAsPdf&amp;page=Module%3AAnnotated_link&amp;action=show-download-screen"><span>Download as PDF</span></a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-wikibase-otherprojects" class="vector-menu mw-portlet mw-portlet-wikibase-otherprojects"  >
	<div class="vector-menu-heading">
		In other projects
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-wikibase" class="wb-otherproject-link wb-otherproject-wikibase-dataitem mw-list-item"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q123531641" title="Structured data on this page hosted by Wikidata [g]" accesskey="g"><span>Wikidata item</span></a></li>
		</ul>
		
	</div>
</div>

</div>

									</div>
				
	</div>
</div>

							</nav>
						</div>
					</div>
				</div>
				<div class="vector-column-end">
					<div class="vector-sticky-pinned-container">
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="appearance-pinned"
	data-pinnable-element-id="vector-appearance"
	data-pinned-container-id="vector-appearance-pinned-container"
	data-unpinned-container-id="vector-appearance-unpinned-container"
>
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		<div id="mw-indicator-pp-default" class="mw-indicator"><div class="mw-parser-output"><span typeof="mw:File"><a href="/wiki/Wikipedia:Protection_policy#template" title="This high-risk module is permanently template-protected to prevent vandalism"><img alt="Permanently protected module" src="//upload.wikimedia.org/wikipedia/en/thumb/5/53/Template-protection-shackle.svg/20px-Template-protection-shackle.svg.png" decoding="async" width="20" height="20" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/en/thumb/5/53/Template-protection-shackle.svg/30px-Template-protection-shackle.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/5/53/Template-protection-shackle.svg/40px-Template-protection-shackle.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></div></div>
		</div>

						<div id="siteSub" class="noprint">From Wikipedia, the free encyclopedia</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content"><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><style data-mw-deduplicate="TemplateStyles:r1277038544">.mw-parser-output .documentation,.mw-parser-output .documentation-metadata{border:1px solid var(--border-color-base,#a2a9b1);background-color:#ecfcf4;clear:both}.mw-parser-output .documentation{margin:1em 0 0 0;padding:1em}.mw-parser-output .documentation-metadata{margin:0.2em 0;font-style:italic;padding:0.4em 1em}.mw-parser-output .documentation-startbox{padding-bottom:3px;border-bottom:1px solid var(--border-color-base,#a2a9b1);margin-bottom:1ex}.mw-parser-output .documentation-heading{font-weight:bold;font-size:125%}.mw-parser-output .documentation-clear{clear:both}.mw-parser-output .documentation-toolbar{font-style:normal;font-size:85%}@media screen{html.skin-theme-clientpref-night .mw-parser-output .documentation,html.skin-theme-clientpref-night .mw-parser-output .documentation-metadata{background-color:#0b1e1c}}@media screen and (prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .documentation,html.skin-theme-clientpref-os .mw-parser-output .documentation-metadata{background-color:#0b1e1c}}</style><div class="documentation-container" role="complementary" aria-labelledby="documentation-heading">
<div class="documentation">
<div class="documentation-startbox">
<span class="documentation-heading" id="documentation-heading"><span typeof="mw:File"><span><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/4/43/Test_Template_Info-Icon_-_Version_%282%29.svg/60px-Test_Template_Info-Icon_-_Version_%282%29.svg.png" decoding="async" width="50" height="22" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/43/Test_Template_Info-Icon_-_Version_%282%29.svg/120px-Test_Template_Info-Icon_-_Version_%282%29.svg.png 1.5x" data-file-width="1792" data-file-height="800" /></span></span> Module documentation</span><span class="mw-editsection-like plainlinks">&#91;<a href="/wiki/Module:Annotated_link/doc" title="Module:Annotated link/doc">view</a>&#93; &#91;<a href="/wiki/Special:EditPage/Module:Annotated_link/doc" title="Special:EditPage/Module:Annotated link/doc">edit</a>&#93; &#91;<a href="/wiki/Special:PageHistory/Module:Annotated_link/doc" title="Special:PageHistory/Module:Annotated link/doc">history</a>&#93; &#91;<a href="/wiki/Special:Purge/Module:Annotated_link" title="Special:Purge/Module:Annotated link">purge</a>&#93;</span></div>
<style data-mw-deduplicate="TemplateStyles:r1238436933">.mw-parser-output .ombox{margin:4px 0;border-collapse:collapse;border:1px solid #a2a9b1;background-color:var(--background-color-neutral-subtle,#f8f9fa);box-sizing:border-box;color:var(--color-base,#202122)}.mw-parser-output .ombox.mbox-small{font-size:88%;line-height:1.25em}.mw-parser-output .ombox-speedy{border:2px solid #b32424;background-color:#fee7e6}.mw-parser-output .ombox-delete{border:2px solid #b32424}.mw-parser-output .ombox-content{border:1px solid #f28500}.mw-parser-output .ombox-style{border:1px solid #fc3}.mw-parser-output .ombox-move{border:1px solid #9932cc}.mw-parser-output .ombox-protection{border:2px solid #a2a9b1}.mw-parser-output .ombox .mbox-text{border:none;padding:0.25em 0.9em;width:100%}.mw-parser-output .ombox .mbox-image{border:none;padding:2px 0 2px 0.9em;text-align:center}.mw-parser-output .ombox .mbox-imageright{border:none;padding:2px 0.9em 2px 0;text-align:center}.mw-parser-output .ombox .mbox-empty-cell{border:none;padding:0;width:1px}.mw-parser-output .ombox .mbox-invalid-type{text-align:center}@media(min-width:720px){.mw-parser-output .ombox{margin:4px 10%}.mw-parser-output .ombox.mbox-small{clear:right;float:right;margin:4px 0 4px 1em;width:238px}}body.skin--responsive .mw-parser-output table.ombox img{max-width:none!important}@media screen{html.skin-theme-clientpref-night .mw-parser-output .ombox-speedy{background-color:#310402}}@media screen and (prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .ombox-speedy{background-color:#310402}}</style><table class="plainlinks ombox ombox-notice" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><span><img alt="Ready for use" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/03/Green_check.svg/40px-Green_check.svg.png" decoding="async" width="40" height="40" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/03/Green_check.svg/60px-Green_check.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/0/03/Green_check.svg/120px-Green_check.svg.png 2x" data-file-width="600" data-file-height="600" /></span></span></td><td class="mbox-text">This module is rated as <a href="/wiki/Category:Modules_for_general_use" title="Category:Modules for general use">ready for general use</a>. It has reached a mature form and is thought to be relatively bug-free and ready for use wherever appropriate. It is ready to mention on help pages and other Wikipedia resources as an option for new users to learn. To reduce server load and bad output, it should be improved by <a href="/wiki/Wikipedia:Template_sandbox_and_test_cases" title="Wikipedia:Template sandbox and test cases">sandbox testing</a> rather than repeated trial-and-error editing.</td></tr></tbody></table><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238436933" /><table class="plainlinks ombox ombox-notice" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><span><img alt="Protected" src="//upload.wikimedia.org/wikipedia/en/thumb/5/53/Template-protection-shackle.svg/40px-Template-protection-shackle.svg.png" decoding="async" width="40" height="40" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/en/thumb/5/53/Template-protection-shackle.svg/60px-Template-protection-shackle.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/5/53/Template-protection-shackle.svg/80px-Template-protection-shackle.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td><td class="mbox-text">This module is <a href="/wiki/Category:Modules_subject_to_page_protection" title="Category:Modules subject to page protection">subject to page protection</a>. It is a <a href="/wiki/Wikipedia:High-risk_templates" title="Wikipedia:High-risk templates">highly visible module</a> in use by a very large number of pages, or is <a href="/wiki/Wikipedia:Substitution" title="Wikipedia:Substitution">substituted</a> very frequently. Because vandalism or mistakes would affect many pages, and even trivial editing might cause substantial load on the servers, it is <a href="/wiki/Wikipedia:Protection_policy" title="Wikipedia:Protection policy">protected</a> from editing.</td></tr></tbody></table>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238436933" /><table class="plainlinks ombox ombox-style" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><span><img alt="Warning" src="//upload.wikimedia.org/wikipedia/en/thumb/7/74/Ambox_warning_yellow.svg/40px-Ambox_warning_yellow.svg.png" decoding="async" width="40" height="35" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/en/thumb/7/74/Ambox_warning_yellow.svg/60px-Ambox_warning_yellow.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/7/74/Ambox_warning_yellow.svg/120px-Ambox_warning_yellow.svg.png 2x" data-file-width="386" data-file-height="334" /></span></span></td><td class="mbox-text"><b>This Lua module is used on <a class="external text" href="https://linkcount.toolforge.org/?project=en.wikipedia.org&amp;page=Module%3AAnnotated+link#transclusions">approximately&#x20;11,000 pages</a></b> and changes may be widely noticed. Test changes in the module's <a href="/wiki/Module:Annotated_link/sandbox" title="Module:Annotated link/sandbox">/sandbox</a> or <a href="/wiki/Module:Annotated_link/testcases" title="Module:Annotated link/testcases">/testcases</a> subpages, or in your own <a href="/wiki/Module:Sandbox" title="Module:Sandbox">module sandbox</a>. Consider discussing changes on the <a href="/wiki/Module_talk:Annotated_link" title="Module talk:Annotated link">talk page</a> before implementing them.</td></tr></tbody></table>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238436933" /><table class="plainlinks ombox mbox-small ombox-notice" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><span><img alt="" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Lua-Logo.svg/30px-Lua-Logo.svg.png" decoding="async" width="30" height="30" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Lua-Logo.svg/45px-Lua-Logo.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Lua-Logo.svg/60px-Lua-Logo.svg.png 2x" data-file-width="947" data-file-height="947" /></span></span></td><td class="mbox-text">This module depends on the following other modules:<div><ul><li><a href="/wiki/Module:GetShortDescription" title="Module:GetShortDescription">Module:GetShortDescription</a> (<a href="/wiki/Module:GetShortDescription/sandbox" title="Module:GetShortDescription/sandbox">sandbox</a>)</li><li><a href="/wiki/Module:Arguments" title="Module:Arguments">Module:Arguments</a> (<a href="/wiki/Module:Arguments/sandbox" title="Module:Arguments/sandbox">sandbox</a>)</li><li><a href="/wiki/Module:Lang" title="Module:Lang">Module:Lang</a> (<a href="/wiki/Module:Lang/sandbox" title="Module:Lang/sandbox">sandbox</a>)</li></ul></div></td></tr></tbody></table>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238436933" /><table class="box-Notice plainlinks ombox ombox-notice" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><span><img alt="" src="//upload.wikimedia.org/wikipedia/en/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/en/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></span></span></td><td class="mbox-text" style="text-align: left;">This module is invoked by <code>&#123;&#123;<a href="/wiki/Template:Annotated_link" title="Template:Annotated link">annotated link</a>&#125;&#125;</code>.</td></tr></tbody></table>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1238436933" /><table class="box-Notice plainlinks ombox ombox-notice" role="presentation"><tbody><tr><td class="mbox-image"><span typeof="mw:File"><span><img alt="" src="//upload.wikimedia.org/wikipedia/en/thumb/1/1d/Information_icon4.svg/40px-Information_icon4.svg.png" decoding="async" width="40" height="40" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/en/thumb/1/1d/Information_icon4.svg/60px-Information_icon4.svg.png 1.5x, //upload.wikimedia.org/wikipedia/en/thumb/1/1d/Information_icon4.svg/80px-Information_icon4.svg.png 2x" data-file-width="620" data-file-height="620" /></span></span></td><td class="mbox-text" style="text-align: left;">This module may, by design, output alarming informational messages under certain circumstances; if these messages are displayed on any page invoking this module directly, or via any other module or template using it, the page will be added to <a href="/wiki/Category:Pages_displaying_alarming_messages_about_Module:Annotated_link" title="Category:Pages displaying alarming messages about Module:Annotated link">Category:Pages displaying alarming messages about Module:Annotated link</a>.</td></tr></tbody></table>
<meta property="mw:PageProp/toc" />
<div class="mw-heading mw-heading2"><h2 id="Usage">Usage</h2></div>
<pre>{{#invoke:Annotated link|main

  |name= |display= |quote= |abbr= |abbr_title= |template_link= |aka= |wedge= |dash= |desc_first_letter_case= |space_cat= |prefix_parentheses=

  |link_lang= |link_lang_italic= |link_lang_nocat= |link_lang_size= |link_lang_cat= |link_lang_rtl=

  |aka_lang= |aka_lang_italic= |aka_lang_nocat= |aka_lang_size= |aka_lang_cat= |aka_lang_rtl=

  |wedge_lang= |wedge_lang_italic= |wedge_lang_nocat= |wedge_lang_size= |wedge_lang_cat= |wedge_lang_rtl=

  |only= |prefer= |fallback=

  |desc_lang_italic= |desc_lang_nocat= |desc_lang_size= |desc_lang_cat= |desc_lang_rtl= |desc_lang_no=

}}</pre>
<div class="mw-heading mw-heading3"><h3 id="name">name</h3></div>
<p>By providing only the <b>required</b> page name (including namespace), the module will use <a href="/wiki/Module:GetShortDescription" title="Module:GetShortDescription">Module:GetShortDescription</a> to look for an explicit <code>&#123;&#123;<a href="/wiki/Template:Short_description" title="Template:Short description">short description</a>&#125;&#125;</code> in that page, but if not found, will try to fetch the wikidata description. This is equivalent to stating <code class="tpl-para" style="word-break:break-word;">&#124;prefer&#61;explicit</code>; see <a href="#prefer">#prefer</a> (below). If a description is found, it will be appended to a link created for the named page in the style expected for the likes of <a href="/wiki/MOS:SEEALSO" class="mw-redirect" title="MOS:SEEALSO">MOS:SEEALSO</a>. If no description is found, the link will be created but no extra information will be appended – unless the extensive following parameters are employed.
</p><p>Any foreign language (i.e. not <i>en</i>) text supplied to this module or retrieved by Module:GetShortDescription may be appropriately formatted, in accordance with <a href="/wiki/MOS:OTHERLANG" class="mw-redirect" title="MOS:OTHERLANG">MOS:OTHERLANG</a>, via the parameters for <a href="/wiki/Module:Lang" title="Module:Lang">Module:Lang</a>; see <a href="#Foreign_language_text">#Foreign language text</a> (below).
</p><p>As this module is responsible for the use of all features of Module:GetShortDescription; all the parameters for that module are available through this module; see <a href="#Module:GetShortDescription_parameters">#Module:GetShortDescription parameters</a> (below).
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=The Partisan }}</code></dd>
<dd><b>Result:</b> <a href="/wiki/The_Partisan" title="The Partisan">The Partisan</a>&#160;– 1943 song by Anna Marly and Emmanuel d'Astier, popularised by Leonard Cohen in 1969</dd></dl>
<p>This and the following example song titles should be double quoted per <a href="/wiki/MOS:POPMUSIC" class="mw-redirect" title="MOS:POPMUSIC">MOS:POPMUSIC</a>; that will be handled by <a href="#quote">#quote</a> (below), and you will see the parameters in use where appropriate from here on.
</p>
<div class="mw-heading mw-heading3"><h3 id="display">display</h3></div>
<p>Providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;display&#61;</code> will format the piped link with a display string:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Jump (Every Little Thing song) |display=Jump |quote=yes }}</code></dd>
<dd><b>Result:</b> "<a href="/wiki/Jump_(Every_Little_Thing_song)" title="Jump (Every Little Thing song)">Jump</a>"&#160;– 2001 single by Every Little Thing</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="quote">quote</h3></div>
<p>Stating <code class="tpl-para" style="word-break:break-word;">&#124;quote&#61;yes</code> will double quote the link:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=The Partisan |quote=yes }}</code></dd>
<dd><b>Result:</b> "<a href="/wiki/The_Partisan" title="The Partisan">The Partisan</a>"&#160;– 1943 song by Anna Marly and Emmanuel d'Astier, popularised by Leonard Cohen in 1969</dd>
<dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Jump (Every Little Thing song) |display=Jump |quote=yes }}</code></dd>
<dd><b>Result:</b> "<a href="/wiki/Jump_(Every_Little_Thing_song)" title="Jump (Every Little Thing song)">Jump</a>"&#160;– 2001 single by Every Little Thing</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="abbr">abbr</h3></div>
<p>Providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;abbr&#61;</code> will append the link with the provided parenthesized abbreviation with <code class="nowrap" style="">&lt;abbr&gt;...&lt;&#47;abbr&gt;</code> <a href="/wiki/Semantic_markup" class="mw-redirect" title="Semantic markup">semantic markup</a>:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Confédération Mondiale des Activités Subaquatiques |display=World Underwater Federation |abbr=CMAS }}</code></dd>
<dd><b>Result:</b> <a href="/wiki/Conf%C3%A9d%C3%A9ration_Mondiale_des_Activit%C3%A9s_Subaquatiques" title="Confédération Mondiale des Activités Subaquatiques">World Underwater Federation</a> (<abbr>CMAS</abbr>)&#160;– International organisation for underwater activities</dd></dl>
<p>An optional <code class="tpl-para" style="word-break:break-word;">&#124;abbr_title&#61;</code> may be provided:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Confédération Mondiale des Activités Subaquatiques |display=World Underwater Federation |abbr=CMAS |abbr_title=Confédération Mondiale des Activités Subaquatiques }}</code></dd>
<dd><b>Result:</b> <a href="/wiki/Conf%C3%A9d%C3%A9ration_Mondiale_des_Activit%C3%A9s_Subaquatiques" title="Confédération Mondiale des Activités Subaquatiques">World Underwater Federation</a> (<abbr title="Confédération Mondiale des Activités Subaquatiques">CMAS</abbr>)&#160;– International organisation for underwater activities</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="template_link">template_link</h3></div>
<p>If the linked page is in the <a href="/wiki/Wikipedia:TEMPLATE" class="mw-redirect" title="Wikipedia:TEMPLATE">Template</a> namespace; the link will be formatted in the manner expected by <code>&#123;&#123;<a href="/wiki/Template:Template_link" title="Template:Template link">template link</a>&#125;&#125;</code>:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Template:Annotated link }}</code></dd>
<dd><b>Result:</b> {{<a href="/wiki/Template:Annotated_link" title="Template:Annotated link">Annotated link</a>}}&#160;– template used to display and annotate a wikilink using the short description of the linked page<span style="display:none" class="category-wikidata-fallback-annotation">Pages displaying wikidata descriptions as a fallback</span></dd></dl>
<p>Stating <code class="tpl-para" style="word-break:break-word;">&#124;template_link&#61;code</code> will display the link  formatted with <code class="nowrap" style="">&lt;code&gt;...&lt;&#47;code&gt;</code>:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Template:Annotated link |template_link=code }}</code></dd>
<dd><b>Result:</b> <code>{{<a href="/wiki/Template:Annotated_link" title="Template:Annotated link">Annotated link</a>}}</code>&#160;– template used to display and annotate a wikilink using the short description of the linked page<span style="display:none" class="category-wikidata-fallback-annotation">Pages displaying wikidata descriptions as a fallback</span></dd></dl>
<p>The previously described parameters – <code class="tpl-para" style="word-break:break-word;">&#124;display&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;quote&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;abbr&#61;</code> and <code class="tpl-para" style="word-break:break-word;">&#124;abbr_title&#61;</code> – and all foreign language link options under <code class="tpl-para" style="word-break:break-word;">&#124;link_lang&#61;</code> (see <a href="#Foreign_language_text">#Foreign language text</a> (below)) will be ignored if the link is in the Template namespace.
</p><p>Stating <code class="tpl-para" style="word-break:break-word;">&#124;template_link&#61;no</code> will disable this special link formatting and the ignorance of the above-mentioned parameters:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Template:Annotated link |template_link=no |display=Annotated link }}</code></dd>
<dd><b>Result:</b> <a href="/wiki/Template:Annotated_link" title="Template:Annotated link">Annotated link</a>&#160;– template used to display and annotate a wikilink using the short description of the linked page<span style="display:none" class="category-wikidata-fallback-annotation">Pages displaying wikidata descriptions as a fallback</span></dd></dl>
<div class="mw-heading mw-heading3"><h3 id="aka">aka</h3></div>
<p>Providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;aka&#61;</code> will append the link (and <code class="tpl-para" style="word-break:break-word;">&#124;abbr&#61;</code> if provided) with a useful alternative name:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=The Partisan |quote=yes |aka=La Complainte du partisan }}</code></dd>
<dd><b>Result:</b> "<a href="/wiki/The_Partisan" title="The Partisan">The Partisan</a>", also known as La Complainte du partisan&#160;– 1943 song by Anna Marly and Emmanuel d'Astier, popularised by Leonard Cohen in 1969</dd>
<dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=Confédération Mondiale des Activités Subaquatiques |display=World Underwater Federation |abbr=CMAS |aka=Confédération Mondiale des Activités Subaquatiques }}</code></dd>
<dd><b>Result:</b> <a href="/wiki/Conf%C3%A9d%C3%A9ration_Mondiale_des_Activit%C3%A9s_Subaquatiques" title="Confédération Mondiale des Activités Subaquatiques">World Underwater Federation</a> (<abbr>CMAS</abbr>), also known as Confédération Mondiale des Activités Subaquatiques&#160;– International organisation for underwater activities</dd></dl>
<p>These and some following examples contain foreign language text that, per <a href="/wiki/MOS:OTHERLANG" class="mw-redirect" title="MOS:OTHERLANG">MOS:OTHERLANG</a>, should be appropriately displayed and declared via <a href="/wiki/HTML" title="HTML">HTML</a> markup as being of that language; this will be handled by various parameters; see <a href="#Foreign_language_text">#Foreign language text</a> (below) for full details, and you will see the parameters in use where appropriate from here on.
</p>
<div class="mw-heading mw-heading3"><h3 id="wedge">wedge</h3></div>
<p>Providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;wedge&#61;</code> will append the link (and <code class="tpl-para" style="word-break:break-word;">&#124;abbr&#61;</code> and <code class="tpl-para" style="word-break:break-word;">&#124;aka&#61;</code> in that order if either or both is provided) with any extra details felt suitable:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=The Partisan |quote=yes |wedge=from the album ''[[Songs from a Room]]'' |aka=La Complainte du partisan |aka_lang=fr }}</code></dd>
<dd><b>Result:</b> "<a href="/wiki/The_Partisan" title="The Partisan">The Partisan</a>", also known as <span title="French-language text"><i lang="fr">La Complainte du partisan</i></span>, from the album <i><a href="/wiki/Songs_from_a_Room" title="Songs from a Room">Songs from a Room</a></i>&#160;– 1943 song by Anna Marly and Emmanuel d'Astier, popularised by Leonard Cohen in 1969</dd></dl>
<p>For complementary foreign language params; see <a href="#Foreign_language_text">#Foreign language text</a> (below).
</p>
<div class="mw-heading mw-heading3"><h3 id="dash">dash</h3></div>
<p>For list consistency, per <a href="/wiki/MOS:LISTFORMAT" class="mw-redirect" title="MOS:LISTFORMAT">MOS:LISTFORMAT</a>; by providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;dash&#61;</code>; the dash between the short description and the preceding text may be exchanged for a suitable alternative:
</p>
<dl><dd><b>Markup:</b> <code>{{#invoke:Annotated link|main |name=The Partisan |quote=yes |dash=, }}</code></dd>
<dd><b>Result:</b> "<a href="/wiki/The_Partisan" title="The Partisan">The Partisan</a>", 1943 song by Anna Marly and Emmanuel d'Astier, popularised by Leonard Cohen in 1969</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="desc_first_letter_case">desc_first_letter_case</h3></div>
<p>Short descriptions on en Wikipedia <a href="/wiki/Wikipedia:SDFORMAT" class="mw-redirect" title="Wikipedia:SDFORMAT">should be formatted</a> with an uppercase first letter, but the typical application of this module will require the first character to be lowercase. By default; this module will ensure all the short descriptions retrieved by Module:GetShortDescription are transformed to start with a lowercase first letter, but this may be overridden if required using <code class="tpl-para" style="word-break:break-word;">&#124;desc_first_letter_case&#61;upper</code> or <code class="tpl-para" style="word-break:break-word;">&#124;desc_first_letter_case&#61;lower</code>.
</p>
<div class="mw-heading mw-heading3"><h3 id="prefix_parentheses">prefix_parentheses</h3></div>
<p>Sometimes date ranges in short descriptions are included in a suffixed parenthetical, per <a href="/wiki/Wikipedia:SDDATES" class="mw-redirect" title="Wikipedia:SDDATES">WP:SDDATES</a> e.g. for <a href="/wiki/Jimmy_Wales" title="Jimmy Wales">Jimmy Wales</a>: "Co-founder of Wikipedia (born 1966)".
</p><p>However when listing people in disambiguation pages per <a href="/wiki/MOS:DABPEOPLE" class="mw-redirect" title="MOS:DABPEOPLE">MOS:DABPEOPLE</a>, birth and death dates in parentheticals should precede the comma, as in "<a href="/wiki/Jimmy_Wales" title="Jimmy Wales">Jimmy Wales</a> (born 1966), co-founder of Wikipedia".
</p><p>If the optional parameter <code class="tpl-para" style="word-break:break-word;">&#124;prefix_parentheses&#61;y</code> is provided, this behavior will be performed, so any suffixed parenthetical text will be moved to before the dash (or comma) separator.
</p><p>Note that current consensus is to not use <span class="nowrap">&#123;&#123;</span><a href="/wiki/Template:Annotated_link" title="Template:Annotated link">annotated link</a><span class="nowrap">&#125;&#125;</span> for disambiguation pages; see <a href="/wiki/Template:Annotated_link/doc#Usage" title="Template:Annotated link/doc">Template:Annotated link/doc#Usage</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="space_cat">space_cat</h3></div>
<p>In the event that a short description with no spaces is retrieved and displayed; pages transcluding the annotation will be added to <a href="/wiki/Category:Pages_displaying_short_descriptions_with_no_spaces_via_Module:Annotated_link" title="Category:Pages displaying short descriptions with no spaces via Module:Annotated link">Category:Pages displaying short descriptions with no spaces via Module:Annotated link</a> for interested editors to monitor for potential issues. Potential issues might include: garbage keyboard mashings, a typo of "none" while attempting to disable an explicit <span class="nowrap"><code>&#123;&#123;short description&#125;&#125;</code></span> or some misunderstanding on the part of an editor placing one.
</p><p>If the transclusion on a page in this category is checked and it is determined to be okay; stating a value for <code class="tpl-para" style="word-break:break-word;">&#124;space_cat&#61;</code> in the invocation will disable the categorisation. This should only be done on a case by cases basis, as opposed to as a default, or no potentially inappropriate annotations will be categorised; i.e. allow this parameter to be set in individual transclusions of templates which invoke this module, like <code>&#123;&#123;<a href="/wiki/Template:Annotated_link" title="Template:Annotated link">annotated link</a>&#125;&#125;</code>, rather than in the template code.
</p>
<div class="mw-heading mw-heading3"><h3 id="Module:GetShortDescription_parameters">Module:GetShortDescription parameters</h3></div>
<style data-mw-deduplicate="TemplateStyles:r1236090951">.mw-parser-output .hatnote{font-style:italic}.mw-parser-output div.hatnote{padding-left:1.6em;margin-bottom:0.5em}.mw-parser-output .hatnote i{font-style:normal}.mw-parser-output .hatnote+link+.hatnote{margin-top:-0.5em}@media print{body.ns-0 .mw-parser-output .hatnote{display:none!important}}</style><div role="note" class="hatnote navigation-not-searchable">Main page: <a href="/wiki/Module:GetShortDescription/doc" title="Module:GetShortDescription/doc">Module:GetShortDescription/doc</a></div>
<p>The value provided with <code class="tpl-para" style="word-break:break-word;">&#124;name&#61;</code> is passed through this module to Module:GetShortDescription where it is also <b>required</b>; the expectations of this module are described in <a href="#name">#name</a> (above). Module:GetShortDescription uses the 
value to find a <code>&#123;&#123;<a href="/wiki/Template:Short_description" title="Template:Short description">short description</a>&#125;&#125;</code> in the named page, or various alternatives depending on parameter values.
</p>
<div class="mw-heading mw-heading4"><h4 id="only">only</h4></div>
<p>Providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;only&#61;</code> will limit the search to being only for the stated description. If no description is found, the result will be an empty string, unless a fallback is provided; see <a href="#fallback">#fallback</a> (below).
</p>
<dl><dd>Stating <code class="tpl-para" style="word-break:break-word;">&#124;only&#61;explicit</code> will limit the search to only short descriptions set by use of <span class="nowrap"><code>&#123;&#123;short description&#125;&#125;</code></span> on the searched page.</dd>
<dd>Stating <code class="tpl-para" style="word-break:break-word;">&#124;only&#61;wikidata</code> will limit the search to only wikidata descriptions.</dd></dl>
<div class="mw-heading mw-heading4"><h4 id="prefer">prefer</h4></div>
<p>Providing a value for <code class="tpl-para" style="word-break:break-word;">&#124;prefer&#61;</code> will initiate the search for the stated description, but try for the alternative if none is found. If no description is found, the result will be an empty string, unless a fallback is provided; see <a href="#fallback">#fallback</a> (below).
</p>
<dl><dd>State <code class="tpl-para" style="word-break:break-word;">&#124;prefer&#61;explicit</code> to use the explicit short description if available, or try for the wikidata description if not.</dd>
<dd>State <code class="tpl-para" style="word-break:break-word;">&#124;prefer&#61;wikidata</code> to use the wikidata description if available, or try for an explicit short description if not.</dd></dl>
<div class="mw-heading mw-heading4"><h4 id="fallback">fallback</h4></div>
<p>If a <code class="tpl-para" style="word-break:break-word;">&#124;fallback&#61;</code> value is provided, and no description is found by the expressed route, the appended description will be the stated fallback value.
</p>
<div class="mw-heading mw-heading3"><h3 id="Foreign_language_text">Foreign language text</h3></div>
<p>Module:GetShortDescription may return a foreign language (i.e. not <i>en</i>) wikidata description; editor discretion determines if that should be displayed. If it is displayed; it will be in accordance with <a href="/wiki/MOS:OTHERLANG" class="mw-redirect" title="MOS:OTHERLANG">MOS:OTHERLANG</a>, by <a href="/wiki/Module:Lang" title="Module:Lang">Module:Lang</a> (the module powering <code>&#123;&#123;<a href="/wiki/Template:Lang" title="Template:Lang">lang</a>&#125;&#125;</code>). The appropriate language code will be set automatically, but all other parameters of <span class="nowrap"><code>&#123;&#123;lang&#125;&#125;</code></span> are available to affect the formatting of the returned description:
</p><p>Use <code class="tpl-para" style="word-break:break-word;">&#124;lang_italic&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;lang_nocat&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;lang_size&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;lang_cat&#61;</code> and <code class="tpl-para" style="word-break:break-word;">&#124;lang_rtl&#61;</code>; see <a href="/wiki/Template:Lang/doc" title="Template:Lang/doc">lang's documentation</a> for details.
</p><p>If the editor determines that <span class="nowrap"><code>&#123;&#123;lang&#125;&#125;</code></span> formatting is not appropriate; it may be disabled with <code class="tpl-para" style="word-break:break-word;">&#124;lang_no&#61;yes</code>. The following <span class="nowrap"><code>&#123;&#123;lang&#125;&#125;</code></span> formatting parameters are optional, so there is no off-switch required.
</p>
<div class="mw-heading mw-heading4"><h4 id="link_lang">link_lang</h4></div>
<p>If the link text is of a foreign language (again; editor discretion); control the formatting with: <code class="tpl-para" style="word-break:break-word;">&#124;link_lang&#61;&lt;language code&gt;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;link_lang_italic&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;link_lang_nocat&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;link_lang_size&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;link_lang_cat&#61;</code> and <code class="tpl-para" style="word-break:break-word;">&#124;link_lang_rtl&#61;</code>
</p>
<div class="mw-heading mw-heading4"><h4 id="aka_lang">aka_lang</h4></div>
<p>If the <code class="tpl-para" style="word-break:break-word;">&#124;aka&#61;</code> text is of a foreign language (again; editor discretion); control the formatting with: <code class="tpl-para" style="word-break:break-word;">&#124;aka_lang&#61;&lt;language code&gt;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;aka_lang_italic&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;aka_lang_nocat&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;aka_lang_size&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;aka_lang_cat&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;aka_lang_rtl&#61;</code>
</p>
<div class="mw-heading mw-heading4"><h4 id="wedge_lang">wedge_lang</h4></div>
<p>If the <code class="tpl-para" style="word-break:break-word;">&#124;wedge&#61;</code> text is of a foreign language (again; editor discretion); control the formatting with: <code class="tpl-para" style="word-break:break-word;">&#124;wedge_lang&#61;&lt;language code&gt;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;wedge_lang_italic&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;wedge_lang_nocat&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;wedge_lang_size&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;wedge_lang_cat&#61;</code>, <code class="tpl-para" style="word-break:break-word;">&#124;wedge_lang_rtl&#61;</code>
</p>
<div class="documentation-clear"></div>
</div>
<div role="note" class="documentation-metadata plainlinks">The above <a href="/wiki/Wikipedia:Template_documentation" title="Wikipedia:Template documentation">documentation</a> is <a href="/wiki/Help:Transclusion" title="Help:Transclusion">transcluded</a> from <a href="/wiki/Module:Annotated_link/doc" title="Module:Annotated link/doc">Module:Annotated link/doc</a>. <span class="documentation-toolbar">(<a href="/wiki/Special:EditPage/Module:Annotated_link/doc" title="Special:EditPage/Module:Annotated link/doc">edit</a> &#124; <a href="/wiki/Special:PageHistory/Module:Annotated_link/doc" title="Special:PageHistory/Module:Annotated link/doc">history</a>)</span><br />Editors can experiment in this module's <a href="/wiki/Module:Annotated_link/sandbox" title="Module:Annotated link/sandbox">sandbox</a> <span class="documentation-toolbar">(<a href="/wiki/Special:EditPage/Module:Annotated_link/sandbox" title="Special:EditPage/Module:Annotated link/sandbox">edit</a> &#124; <a class="external text" href="https://en.wikipedia.org/w/index.php?title=Special%3AComparePages&amp;page1=Module%3AAnnotated+link&amp;page2=Module%3AAnnotated+link%2Fsandbox">diff</a>)</span> and <a href="/wiki/Module:Annotated_link/testcases" title="Module:Annotated link/testcases">testcases</a> <span class="documentation-toolbar">(<a href="/wiki/Special:EditPage/Module:Annotated_link/testcases" title="Special:EditPage/Module:Annotated link/testcases">edit</a> &#124; <a href="/wiki/Module_talk:Annotated_link/testcases" title="Module talk:Annotated link/testcases">run</a>)</span> pages.<br /> <a href="/wiki/Special:PrefixIndex/Module:Annotated_link/" title="Special:PrefixIndex/Module:Annotated link/">Subpages of this module</a>.</div></div>
<p><span id="code"></span>
</p><div class="mw-highlight mw-highlight-lang-lua mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos" data-line="1"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">pipedLink</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">display</span><span class="p">)</span> <span class="kr">return</span> <span class="s1">&#39;[[:&#39;</span><span class="o">..</span><span class="n">name</span><span class="o">..</span><span class="s1">&#39;|&#39;</span><span class="o">..</span><span class="n">display</span><span class="o">..</span><span class="s1">&#39;]]&#39;</span> <span class="kr">end</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos" data-line="2"></span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos" data-line="3"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">isEmpty</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="kr">return</span> <span class="n">value</span> <span class="o">==</span> <span class="kc">nil</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="kr">end</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos" data-line="4"></span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos" data-line="5"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">notEmpty</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="kr">return</span> <span class="ow">not</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="kr">end</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos" data-line="6"></span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos" data-line="7"></span></a><span class="c1">-- Unescape functionality grabbed from https://stackoverflow.com/a/14899740/1832568</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos" data-line="8"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">unescape</span><span class="p">(</span><span class="n">str</span><span class="p">)</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos" data-line="9"></span></a>	<span class="n">str</span> <span class="o">=</span> <span class="nb">string.gsub</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s1">&#39;&amp;#(%d+);&#39;</span><span class="p">,</span> <span class="nb">string.char</span><span class="p">)</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos" data-line="10"></span></a>	<span class="n">str</span> <span class="o">=</span> <span class="nb">string.gsub</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="s1">&#39;&amp;#x(%d+);&#39;</span><span class="p">,</span> <span class="kr">function</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="kr">return</span> <span class="nb">string.char</span><span class="p">(</span><span class="nb">tonumber</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span> <span class="kr">end</span><span class="p">)</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos" data-line="11"></span></a>	<span class="kr">return</span> <span class="n">str</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos" data-line="12"></span></a><span class="kr">end</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos" data-line="13"></span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos" data-line="14"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">hashDelimitedList</span><span class="p">(</span><span class="n">list_string</span><span class="p">)</span> <span class="kr">return</span> <span class="n">mw</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">gsplit</span><span class="p">(</span><span class="n">unescape</span><span class="p">(</span><span class="n">list_string</span><span class="p">),</span> <span class="s1">&#39;%s*#%s*&#39;</span><span class="p">)</span> <span class="kr">end</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos" data-line="15"></span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos" data-line="16"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">alarmingMessage</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos" data-line="17"></span></a>	<span class="kr">return</span> <span class="s1">&#39;&lt;span style=&quot;color:#d33&quot;&gt;[[Module:Annotated link]] &#39;</span><span class="o">..</span><span class="n">message</span><span class="o">..</span><span class="s1">&#39;.&lt;/span&gt;&#39;</span><span class="o">..</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos" data-line="18"></span></a>		<span class="s1">&#39;[[Category:Pages displaying alarming messages about Module:Annotated link]]&#39;</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos" data-line="19"></span></a><span class="kr">end</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos" data-line="20"></span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos" data-line="21"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">optionallyVisibleCategory</span><span class="p">(</span><span class="n">class</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos" data-line="22"></span></a>	<span class="kr">return</span> <span class="s1">&#39;&lt;span style=&quot;display:none&quot; class=&quot;&#39;</span><span class="o">..</span><span class="n">class</span><span class="o">..</span><span class="s1">&#39;&quot;&gt;&#39;</span><span class="o">..</span><span class="n">category</span><span class="o">..</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos" data-line="23"></span></a>		<span class="s1">&#39;&lt;/span&gt;[[Category:&#39;</span><span class="o">..</span><span class="n">category</span><span class="o">..</span><span class="s1">&#39; via Module:Annotated link]]&#39;</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos" data-line="24"></span></a><span class="kr">end</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos" data-line="25"></span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos" data-line="26"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">handleFirstLetterCase</span><span class="p">(</span><span class="n">short_description</span><span class="p">,</span> <span class="n">case</span><span class="p">)</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos" data-line="27"></span></a>	<span class="kr">return</span> <span class="n">mw</span><span class="p">.</span><span class="n">ustring</span><span class="p">.</span><span class="n">gsub</span><span class="p">(</span><span class="n">short_description</span><span class="p">,</span> <span class="s1">&#39;^([^%d])&#39;</span><span class="p">,</span> <span class="kr">function</span><span class="p">(</span><span class="n">first_char</span><span class="p">)</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos" data-line="28"></span></a>		<span class="kr">if</span> <span class="n">case</span> <span class="o">==</span> <span class="s1">&#39;upper&#39;</span> <span class="kr">then</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos" data-line="29"></span></a>			<span class="kr">return</span> <span class="n">mw</span><span class="p">.</span><span class="n">ustring</span><span class="p">.</span><span class="n">upper</span><span class="p">(</span><span class="n">first_char</span><span class="p">)</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos" data-line="30"></span></a>		<span class="kr">end</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos" data-line="31"></span></a>		<span class="kr">return</span> <span class="n">mw</span><span class="p">.</span><span class="n">ustring</span><span class="p">.</span><span class="n">lower</span><span class="p">(</span><span class="n">first_char</span><span class="p">)</span> <span class="kr">end</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos" data-line="32"></span></a>	<span class="p">)</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos" data-line="33"></span></a><span class="kr">end</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos" data-line="34"></span></a>
</span><span id="L-35"><a href="#L-35"><span class="linenos" data-line="35"></span></a><span class="kd">local</span> <span class="n">mLang</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;Module:Lang&#39;</span><span class="p">)</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos" data-line="36"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">langify</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos" data-line="37"></span></a>	<span class="kd">local</span> <span class="n">lang</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">lang</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos" data-line="38"></span></a>	<span class="kd">local</span> <span class="n">text</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">text</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos" data-line="39"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span> <span class="ow">or</span> <span class="n">lang</span> <span class="o">==</span> <span class="s1">&#39;en&#39;</span> <span class="kr">then</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos" data-line="40"></span></a>		<span class="kr">return</span> <span class="n">text</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos" data-line="41"></span></a>	<span class="kr">end</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos" data-line="42"></span></a>	<span class="kr">return</span> <span class="n">mLang</span><span class="p">.</span><span class="n">_lang</span> <span class="p">{</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos" data-line="43"></span></a>		<span class="n">lang</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos" data-line="44"></span></a>		<span class="n">text</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos" data-line="45"></span></a>		<span class="n">italic</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">italic</span><span class="p">,</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos" data-line="46"></span></a>		<span class="n">nocat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">nocat</span><span class="p">,</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos" data-line="47"></span></a>		<span class="n">size</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">size</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos" data-line="48"></span></a>		<span class="n">cat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">cat</span><span class="p">,</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos" data-line="49"></span></a>		<span class="n">rtl</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">rtl</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos" data-line="50"></span></a>	<span class="p">}</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos" data-line="51"></span></a><span class="kr">end</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos" data-line="52"></span></a>
</span><span id="L-53"><a href="#L-53"><span class="linenos" data-line="53"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">formatResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dash</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">prefix_parentheses</span><span class="p">)</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos" data-line="54"></span></a>	<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">description</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos" data-line="55"></span></a>		<span class="kr">if</span> <span class="n">prefix_parentheses</span> <span class="kr">then</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos" data-line="56"></span></a>			<span class="kd">local</span> <span class="n">startIdx</span> <span class="o">=</span> <span class="n">description</span><span class="p">:</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;%(&quot;</span><span class="p">)</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos" data-line="57"></span></a>			<span class="kr">if</span> <span class="n">startIdx</span> <span class="kr">then</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos" data-line="58"></span></a>				 <span class="kd">local</span> <span class="n">beforeParens</span> <span class="o">=</span> <span class="n">description</span><span class="p">:</span><span class="n">sub</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">startIdx</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos" data-line="59"></span></a>				 <span class="kd">local</span> <span class="n">insideParens</span> <span class="o">=</span> <span class="n">description</span><span class="p">:</span><span class="n">sub</span><span class="p">(</span><span class="n">startIdx</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos" data-line="60"></span></a>				 <span class="kr">return</span> <span class="n">result</span><span class="o">..</span><span class="s1">&#39; &#39;</span><span class="o">..</span><span class="n">insideParens</span><span class="o">..</span><span class="n">dash</span><span class="o">..</span><span class="s1">&#39; &#39;</span><span class="o">..</span><span class="n">beforeParens</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos" data-line="61"></span></a>			<span class="kr">end</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos" data-line="62"></span></a>		<span class="kr">end</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos" data-line="63"></span></a>		<span class="kr">return</span> <span class="n">result</span><span class="o">..</span><span class="n">dash</span><span class="o">..</span><span class="s1">&#39; &#39;</span><span class="o">..</span><span class="n">description</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos" data-line="64"></span></a>	<span class="kr">end</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos" data-line="65"></span></a>	<span class="kr">return</span> <span class="n">result</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos" data-line="66"></span></a><span class="kr">end</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos" data-line="67"></span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos" data-line="68"></span></a><span class="kd">local</span> <span class="kr">function</span> <span class="nf">annotatedLink</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos" data-line="69"></span></a>	<span class="kd">local</span> <span class="n">name</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">name</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos" data-line="70"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos" data-line="71"></span></a>		<span class="kr">return</span> <span class="n">alarmingMessage</span><span class="p">(</span><span class="s1">&#39;requires a page name (including namespace)&#39;</span><span class="p">)</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos" data-line="72"></span></a>	<span class="kr">end</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos" data-line="73"></span></a>	
</span><span id="L-74"><a href="#L-74"><span class="linenos" data-line="74"></span></a>	<span class="c1">-- In order to handle an attempt to annotate a template link</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos" data-line="75"></span></a>	<span class="c1">-- already formatted with the likes of {{tl|&lt;template name&gt;}};</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos" data-line="76"></span></a>	<span class="c1">-- unescape name to make sense of braces in lua patern matching.</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos" data-line="77"></span></a>	<span class="n">name</span> <span class="o">=</span> <span class="n">unescape</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos" data-line="78"></span></a>	
</span><span id="L-79"><a href="#L-79"><span class="linenos" data-line="79"></span></a>	<span class="kr">if</span> <span class="n">name</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;^{%b{}}$&#39;</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos" data-line="80"></span></a>		<span class="c1">-- The possibility to extract useful data exists here: e.g. {{tl*|Template}}.</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos" data-line="81"></span></a>		<span class="kr">return</span> <span class="n">alarmingMessage</span><span class="p">(</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos" data-line="82"></span></a>			<span class="s1">&#39;requires only a page name (including namespace) without markup. &#39;</span><span class="o">..</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos" data-line="83"></span></a>			<span class="s1">&#39;If an attempt is being made to annotate a link to a template, &#39;</span><span class="o">..</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos" data-line="84"></span></a>			<span class="s1">&#39;provide only the template name with namespace e.g. &quot;Template:Example&quot;&#39;</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos" data-line="85"></span></a>	<span class="kr">end</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos" data-line="86"></span></a>	
</span><span id="L-87"><a href="#L-87"><span class="linenos" data-line="87"></span></a>	<span class="c1">-- If a literal link was provided as name;</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos" data-line="88"></span></a>	<span class="c1">-- extract the content and apply it to name and display as appropriate.</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos" data-line="89"></span></a>	<span class="kd">local</span> <span class="n">wikilink</span> <span class="o">=</span> <span class="n">mw</span><span class="p">.</span><span class="n">ustring</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;^%[%[%s*:*%s*(.-)%s*%]%]$&#39;</span><span class="p">)</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos" data-line="90"></span></a>	<span class="kr">if</span> <span class="n">wikilink</span> <span class="kr">then</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos" data-line="91"></span></a>		<span class="kd">local</span> <span class="n">link_name</span><span class="p">,</span> <span class="n">link_display</span> <span class="o">=</span> <span class="n">unpack</span><span class="p">(</span><span class="n">mw</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="n">wikilink</span><span class="p">,</span> <span class="s1">&#39;%s*|%s*&#39;</span><span class="p">))</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos" data-line="92"></span></a>		<span class="kr">if</span> <span class="n">link_name</span> <span class="kr">then</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos" data-line="93"></span></a>			<span class="n">name</span> <span class="o">=</span> <span class="n">link_name</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos" data-line="94"></span></a>		<span class="kr">end</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos" data-line="95"></span></a>		<span class="kr">if</span> <span class="n">link_display</span> <span class="ow">and</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">display</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos" data-line="96"></span></a>			<span class="n">args</span><span class="p">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">link_display</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos" data-line="97"></span></a>		<span class="kr">end</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos" data-line="98"></span></a>	<span class="kr">end</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos" data-line="99"></span></a>	
</span><span id="L-100"><a href="#L-100"><span class="linenos" data-line="100"></span></a>	<span class="c1">-- Prepare to concatenate.</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos" data-line="101"></span></a>	<span class="kd">local</span> <span class="n">result</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos" data-line="102"></span></a>	
</span><span id="L-103"><a href="#L-103"><span class="linenos" data-line="103"></span></a>	<span class="kd">local</span> <span class="n">is_template</span> <span class="o">=</span> <span class="n">name</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;^Template:(.+)$&#39;</span><span class="p">)</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos" data-line="104"></span></a>	<span class="kd">local</span> <span class="n">template_link</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">template_link</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos" data-line="105"></span></a>	<span class="kr">if</span> <span class="n">is_template</span> <span class="ow">and</span> <span class="n">template_link</span> <span class="o">~=</span> <span class="s1">&#39;no&#39;</span> <span class="kr">then</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos" data-line="106"></span></a>		<span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;{{&#39;</span><span class="o">..</span><span class="n">pipedLink</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">is_template</span><span class="p">)</span><span class="o">..</span><span class="s1">&#39;}}&#39;</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos" data-line="107"></span></a>		<span class="kr">if</span> <span class="n">template_link</span> <span class="o">==</span> <span class="s1">&#39;code&#39;</span> <span class="kr">then</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos" data-line="108"></span></a>			<span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&lt;code&gt;&#39;</span><span class="o">..</span><span class="n">result</span><span class="o">..</span><span class="s1">&#39;&lt;/code&gt;&#39;</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos" data-line="109"></span></a>		<span class="kr">end</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos" data-line="110"></span></a>	<span class="kr">else</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos" data-line="111"></span></a>		<span class="kd">local</span> <span class="n">display</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">display</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos" data-line="112"></span></a>		<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">display</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos" data-line="113"></span></a>			<span class="n">display</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos" data-line="114"></span></a>		<span class="kr">end</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos" data-line="115"></span></a>		<span class="n">result</span> <span class="o">=</span> <span class="n">langify</span><span class="p">({</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos" data-line="116"></span></a>			<span class="n">lang</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">link_lang</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos" data-line="117"></span></a>			<span class="n">text</span> <span class="o">=</span> <span class="n">pipedLink</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">display</span><span class="p">),</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos" data-line="118"></span></a>			<span class="n">italic</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">link_lang_italic</span><span class="p">,</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos" data-line="119"></span></a>			<span class="n">nocat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">link_lang_nocat</span><span class="p">,</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos" data-line="120"></span></a>			<span class="n">size</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">link_lang_size</span><span class="p">,</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos" data-line="121"></span></a>			<span class="n">cat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">link_lang_cat</span><span class="p">,</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos" data-line="122"></span></a>			<span class="n">rtl</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">link_lang_rtl</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos" data-line="123"></span></a>		<span class="p">})</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos" data-line="124"></span></a>		
</span><span id="L-125"><a href="#L-125"><span class="linenos" data-line="125"></span></a>		<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">quote</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos" data-line="126"></span></a>			<span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&quot;&#39;</span><span class="o">..</span><span class="n">result</span><span class="o">..</span><span class="s1">&#39;&quot;&#39;</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos" data-line="127"></span></a>		<span class="kr">end</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos" data-line="128"></span></a>		
</span><span id="L-129"><a href="#L-129"><span class="linenos" data-line="129"></span></a>		<span class="kd">local</span> <span class="n">abbr</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">abbr</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos" data-line="130"></span></a>		<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">abbr</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos" data-line="131"></span></a>			<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">..</span><span class="s1">&#39; (&lt;abbr&#39;</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos" data-line="132"></span></a>			<span class="kd">local</span> <span class="n">abbr_title</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">abbr_title</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos" data-line="133"></span></a>			<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">abbr_title</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos" data-line="134"></span></a>				<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">..</span><span class="s1">&#39; title=&quot;&#39;</span><span class="o">..</span><span class="n">abbr_title</span><span class="o">..</span><span class="s1">&#39;&quot;&#39;</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos" data-line="135"></span></a>			<span class="kr">end</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos" data-line="136"></span></a>			<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">..</span><span class="s1">&#39;&gt;&#39;</span><span class="o">..</span><span class="n">abbr</span><span class="o">..</span><span class="s1">&#39;&lt;/abbr&gt;)&#39;</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos" data-line="137"></span></a>		<span class="kr">end</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos" data-line="138"></span></a>	<span class="kr">end</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos" data-line="139"></span></a>	
</span><span id="L-140"><a href="#L-140"><span class="linenos" data-line="140"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos" data-line="141"></span></a>		<span class="kr">return</span> <span class="n">alarmingMessage</span><span class="p">(</span><span class="s1">&#39;could not create a link for &quot;&#39;</span><span class="o">..</span><span class="n">name</span><span class="o">..</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos" data-line="142"></span></a>	<span class="kr">end</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos" data-line="143"></span></a>	
</span><span id="L-144"><a href="#L-144"><span class="linenos" data-line="144"></span></a>	<span class="kd">local</span> <span class="n">aka</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos" data-line="145"></span></a>	<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">aka</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos" data-line="146"></span></a>		<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">..</span><span class="s1">&#39;, also known as &#39;</span><span class="o">..</span><span class="n">langify</span><span class="p">({</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos" data-line="147"></span></a>			<span class="n">lang</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka_lang</span><span class="p">,</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos" data-line="148"></span></a>			<span class="n">text</span> <span class="o">=</span> <span class="n">aka</span><span class="p">,</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos" data-line="149"></span></a>			<span class="n">italic</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka_lang_italic</span><span class="p">,</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos" data-line="150"></span></a>			<span class="n">nocat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka_lang_nocat</span><span class="p">,</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos" data-line="151"></span></a>			<span class="n">size</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka_lang_size</span><span class="p">,</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos" data-line="152"></span></a>			<span class="n">cat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka_lang_cat</span><span class="p">,</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos" data-line="153"></span></a>			<span class="n">rtl</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">aka_lang_rtl</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos" data-line="154"></span></a>		<span class="p">})</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos" data-line="155"></span></a>	<span class="kr">end</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos" data-line="156"></span></a>	
</span><span id="L-157"><a href="#L-157"><span class="linenos" data-line="157"></span></a>	<span class="kd">local</span> <span class="n">wedge</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos" data-line="158"></span></a>	<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">wedge</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos" data-line="159"></span></a>		<span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">..</span><span class="s1">&#39;, &#39;</span><span class="o">..</span><span class="n">langify</span><span class="p">({</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos" data-line="160"></span></a>			<span class="n">lang</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge_lang</span><span class="p">,</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos" data-line="161"></span></a>			<span class="n">text</span> <span class="o">=</span> <span class="n">wedge</span><span class="p">,</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos" data-line="162"></span></a>			<span class="n">italic</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge_lang_italic</span><span class="p">,</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos" data-line="163"></span></a>			<span class="n">nocat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge_lang_nocat</span><span class="p">,</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos" data-line="164"></span></a>			<span class="n">size</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge_lang_size</span><span class="p">,</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos" data-line="165"></span></a>			<span class="n">cat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge_lang_cat</span><span class="p">,</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos" data-line="166"></span></a>			<span class="n">rtl</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">wedge_lang_rtl</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos" data-line="167"></span></a>		<span class="p">})</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos" data-line="168"></span></a>	<span class="kr">end</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos" data-line="169"></span></a>	
</span><span id="L-170"><a href="#L-170"><span class="linenos" data-line="170"></span></a>	<span class="c1">-- Exclude wikidata fallback for any specified list of link titles,</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos" data-line="171"></span></a>	<span class="c1">-- unless explicity instructed that it&#39;s okay.</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos" data-line="172"></span></a>	<span class="kd">local</span> <span class="n">not_wikidata_for_links_starting_with</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">not_wikidata_for_links_starting_with</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos" data-line="173"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">wikidata</span><span class="p">)</span> <span class="ow">and</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">not_wikidata_for_links_starting_with</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos" data-line="174"></span></a>		<span class="kr">for</span> <span class="n">only_explicit</span> <span class="kr">in</span> <span class="n">hashDelimitedList</span><span class="p">(</span><span class="n">not_wikidata_for_links_starting_with</span><span class="p">)</span> <span class="kr">do</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos" data-line="175"></span></a>			<span class="kr">if</span> <span class="n">name</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;^&#39;</span><span class="o">..</span><span class="n">only_explicit</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos" data-line="176"></span></a>				<span class="n">args</span><span class="p">.</span><span class="n">only</span> <span class="o">=</span> <span class="s1">&#39;explicit&#39;</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos" data-line="177"></span></a>				<span class="kr">break</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos" data-line="178"></span></a>			<span class="kr">end</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos" data-line="179"></span></a>		<span class="kr">end</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos" data-line="180"></span></a>	<span class="kr">end</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos" data-line="181"></span></a>	
</span><span id="L-182"><a href="#L-182"><span class="linenos" data-line="182"></span></a>	<span class="c1">-- Get the short description from Module:GetShortDescription.</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos" data-line="183"></span></a>	<span class="kd">local</span> <span class="n">short_description</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;Module:GetShortDescription&#39;</span><span class="p">).</span><span class="n">main</span><span class="p">({</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos" data-line="184"></span></a>		<span class="n">none_is_valid</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">none_is_valid</span><span class="p">,</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos" data-line="185"></span></a>		<span class="n">none_is_nil</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">none_is_nil</span><span class="p">,</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos" data-line="186"></span></a>		<span class="n">lang_italic</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_lang_italic</span><span class="p">,</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos" data-line="187"></span></a>		<span class="n">lang_nocat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_lang_nocat</span><span class="p">,</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos" data-line="188"></span></a>		<span class="n">lang_size</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_lang_size</span><span class="p">,</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos" data-line="189"></span></a>		<span class="n">lang_cat</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_lang_cat</span><span class="p">,</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos" data-line="190"></span></a>		<span class="n">lang_rtl</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_lang_rtl</span><span class="p">,</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos" data-line="191"></span></a>		<span class="n">lang_no</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_lang_no</span><span class="p">,</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos" data-line="192"></span></a>		<span class="n">prefer</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">prefer</span><span class="p">,</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos" data-line="193"></span></a>		<span class="n">only</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">only</span><span class="p">,</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos" data-line="194"></span></a>		<span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos" data-line="195"></span></a>	<span class="p">})</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos" data-line="196"></span></a>	
</span><span id="L-197"><a href="#L-197"><span class="linenos" data-line="197"></span></a>	<span class="kd">local</span> <span class="n">dash</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">dash</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos" data-line="198"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">dash</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos" data-line="199"></span></a>		<span class="n">dash</span> <span class="o">=</span> <span class="s1">&#39;&amp;nbsp;–&#39;</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos" data-line="200"></span></a>	<span class="kr">end</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos" data-line="201"></span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos" data-line="202"></span></a>	<span class="kd">local</span> <span class="n">fallback</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">fallback</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos" data-line="203"></span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos" data-line="204"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">short_description</span><span class="p">)</span> <span class="ow">or</span> <span class="n">short_description</span><span class="p">.</span><span class="n">redlink</span> <span class="kr">then</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos" data-line="205"></span></a>		<span class="kr">return</span> <span class="n">formatResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dash</span><span class="p">,</span> <span class="n">fallback</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">prefix_parentheses</span><span class="p">)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos" data-line="206"></span></a>	<span class="kr">end</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos" data-line="207"></span></a>	
</span><span id="L-208"><a href="#L-208"><span class="linenos" data-line="208"></span></a>	<span class="kr">if</span> <span class="n">short_description</span><span class="p">.</span><span class="n">alarm</span> <span class="kr">then</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos" data-line="209"></span></a>		<span class="kr">return</span> <span class="n">short_description</span><span class="p">.</span><span class="n">alarm</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos" data-line="210"></span></a>	<span class="kr">end</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos" data-line="211"></span></a>	
</span><span id="L-212"><a href="#L-212"><span class="linenos" data-line="212"></span></a>	<span class="kd">local</span> <span class="n">maintenance</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos" data-line="213"></span></a>	
</span><span id="L-214"><a href="#L-214"><span class="linenos" data-line="214"></span></a>	<span class="kr">if</span> <span class="n">short_description</span><span class="p">.</span><span class="n">redirected</span> <span class="kr">then</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos" data-line="215"></span></a>		<span class="n">maintenance</span> <span class="o">=</span> <span class="n">optionallyVisibleCategory</span><span class="p">(</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos" data-line="216"></span></a>			<span class="s1">&#39;category-annotation-with-redirected-description&#39;</span><span class="p">,</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos" data-line="217"></span></a>			<span class="s1">&#39;Pages displaying short descriptions of redirect targets&#39;</span><span class="p">)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos" data-line="218"></span></a>	<span class="kr">end</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos" data-line="219"></span></a>	
</span><span id="L-220"><a href="#L-220"><span class="linenos" data-line="220"></span></a>	<span class="kd">local</span> <span class="n">fellback</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos" data-line="221"></span></a>	
</span><span id="L-222"><a href="#L-222"><span class="linenos" data-line="222"></span></a>	<span class="kr">if</span> <span class="n">short_description</span><span class="p">.</span><span class="n">wikidata</span> <span class="kr">then</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos" data-line="223"></span></a>		<span class="kr">if</span> <span class="n">short_description</span><span class="p">.</span><span class="n">fellback</span> <span class="kr">then</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos" data-line="224"></span></a>			<span class="n">fellback</span> <span class="o">=</span> <span class="kc">true</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos" data-line="225"></span></a>			<span class="n">maintenance</span> <span class="o">=</span> <span class="n">maintenance</span><span class="o">..</span><span class="n">optionallyVisibleCategory</span><span class="p">(</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos" data-line="226"></span></a>				<span class="s1">&#39;category-wikidata-fallback-annotation&#39;</span><span class="p">,</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos" data-line="227"></span></a>				<span class="s1">&#39;Pages displaying wikidata descriptions as a fallback&#39;</span><span class="p">)</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos" data-line="228"></span></a>		<span class="kr">end</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos" data-line="229"></span></a>		<span class="n">short_description</span> <span class="o">=</span> <span class="n">short_description</span><span class="p">.</span><span class="n">wikidata</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos" data-line="230"></span></a>		<span class="c1">-- Filter against likely rubbish wikidata descriptions.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos" data-line="231"></span></a>		<span class="kd">local</span> <span class="n">not_wikidata_descriptions_including</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">not_wikidata_descriptions_including</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos" data-line="232"></span></a>		<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">not_wikidata_descriptions_including</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos" data-line="233"></span></a>			<span class="c1">-- Case insentive matching.</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos" data-line="234"></span></a>			<span class="kd">local</span> <span class="n">lower_case_short_description</span> <span class="o">=</span> <span class="n">short_description</span><span class="p">:</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos" data-line="235"></span></a>			<span class="kr">for</span> <span class="n">exclusion</span> <span class="kr">in</span> <span class="n">hashDelimitedList</span><span class="p">(</span><span class="n">not_wikidata_descriptions_including</span><span class="p">:</span><span class="n">lower</span><span class="p">())</span> <span class="kr">do</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos" data-line="236"></span></a>				<span class="kr">if</span> <span class="n">lower_case_short_description</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="n">exclusion</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos" data-line="237"></span></a>					<span class="n">short_description</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos" data-line="238"></span></a>					<span class="kr">break</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos" data-line="239"></span></a>				<span class="kr">end</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos" data-line="240"></span></a>			<span class="kr">end</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos" data-line="241"></span></a>		<span class="kr">end</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos" data-line="242"></span></a>		<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">short_description</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos" data-line="243"></span></a>			<span class="kr">return</span> <span class="n">formatResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dash</span><span class="p">,</span> <span class="n">fallback</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">prefix_parentheses</span><span class="p">)</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos" data-line="244"></span></a>		<span class="kr">end</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos" data-line="245"></span></a>	<span class="kr">else</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos" data-line="246"></span></a>		<span class="n">short_description</span> <span class="o">=</span> <span class="n">short_description</span><span class="p">.</span><span class="n">explicit</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos" data-line="247"></span></a>	<span class="kr">end</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos" data-line="248"></span></a>	
</span><span id="L-249"><a href="#L-249"><span class="linenos" data-line="249"></span></a>	<span class="kd">local</span> <span class="n">lower_case_name</span> <span class="o">=</span> <span class="n">name</span><span class="p">:</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos" data-line="250"></span></a>	
</span><span id="L-251"><a href="#L-251"><span class="linenos" data-line="251"></span></a>	<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">short_description</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">short_description</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos" data-line="252"></span></a>		<span class="c1">-- Filter against likely rubbish single word descriptions.</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos" data-line="253"></span></a>		<span class="kd">local</span> <span class="n">lower_case_short_description</span> <span class="o">=</span> <span class="n">short_description</span><span class="p">:</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos" data-line="254"></span></a>		<span class="kd">local</span> <span class="n">not_single_word</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">not_single_word</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos" data-line="255"></span></a>		<span class="kr">if</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">not_single_word</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos" data-line="256"></span></a>			<span class="c1">-- Case insentive matching.</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos" data-line="257"></span></a>			<span class="kr">for</span> <span class="n">single_word</span> <span class="kr">in</span> <span class="n">hashDelimitedList</span><span class="p">(</span><span class="n">not_single_word</span><span class="p">:</span><span class="n">lower</span><span class="p">())</span> <span class="kr">do</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos" data-line="258"></span></a>				<span class="kr">if</span> <span class="n">single_word</span> <span class="o">==</span> <span class="n">lower_case_short_description</span> <span class="kr">then</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos" data-line="259"></span></a>					<span class="n">short_description</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos" data-line="260"></span></a>					<span class="kr">break</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos" data-line="261"></span></a>				<span class="kr">end</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos" data-line="262"></span></a>			<span class="kr">end</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos" data-line="263"></span></a>		<span class="kr">end</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos" data-line="264"></span></a>		<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">short_description</span><span class="p">)</span> <span class="ow">or</span> <span class="n">lower_case_name</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="n">lower_case_short_description</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos" data-line="265"></span></a>			<span class="kr">return</span> <span class="n">formatResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dash</span><span class="p">,</span> <span class="n">fallback</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">prefix_parentheses</span><span class="p">)</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos" data-line="266"></span></a>		<span class="kr">end</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos" data-line="267"></span></a>		<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">space_cat</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos" data-line="268"></span></a>			<span class="n">maintenance</span> <span class="o">=</span> <span class="n">maintenance</span><span class="o">..</span><span class="n">optionallyVisibleCategory</span><span class="p">(</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos" data-line="269"></span></a>				<span class="s1">&#39;category-spaceless-annotation&#39;</span><span class="p">,</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos" data-line="270"></span></a>				<span class="s1">&#39;Pages displaying short descriptions with no spaces&#39;</span><span class="p">)</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos" data-line="271"></span></a>		<span class="kr">end</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos" data-line="272"></span></a>	<span class="kr">end</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos" data-line="273"></span></a>	
</span><span id="L-274"><a href="#L-274"><span class="linenos" data-line="274"></span></a>	<span class="kr">if</span> <span class="n">lower_case_name</span> <span class="o">==</span> <span class="n">short_description</span><span class="p">:</span><span class="n">lower</span><span class="p">()</span> <span class="kr">then</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos" data-line="275"></span></a>		<span class="kr">if</span> <span class="n">fellback</span> <span class="kr">then</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos" data-line="276"></span></a>			<span class="kr">return</span> <span class="n">formatResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dash</span><span class="p">,</span> <span class="n">fallback</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">prefix_parentheses</span><span class="p">)</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos" data-line="277"></span></a>		<span class="kr">end</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos" data-line="278"></span></a>		<span class="n">maintenance</span> <span class="o">=</span> <span class="n">maintenance</span><span class="o">..</span><span class="n">optionallyVisibleCategory</span><span class="p">(</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos" data-line="279"></span></a>			<span class="s1">&#39;category-annotation-matches-name&#39;</span><span class="p">,</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos" data-line="280"></span></a>			<span class="s1">&#39;Pages displaying short descriptions matching their page name&#39;</span><span class="p">)</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos" data-line="281"></span></a>	<span class="kr">end</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos" data-line="282"></span></a>	
</span><span id="L-283"><a href="#L-283"><span class="linenos" data-line="283"></span></a><span class="c1">-- Short descriptions on en Wikipedia should be formatted with an uppercase first letter, but</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos" data-line="284"></span></a><span class="c1">-- the typical application of this module will require the first character to be lowercase, but</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos" data-line="285"></span></a><span class="c1">-- some descriptions may start with proper names and should start with an uppercase letter even if used in an annotaion.</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos" data-line="286"></span></a><span class="c1">-- By default; this module will not affect the first letter case of descriptions retrieved by Module:GetShortDescription, but</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos" data-line="287"></span></a><span class="c1">-- the first letter case may be transformed explicitly if required.</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos" data-line="288"></span></a>	<span class="kd">local</span> <span class="n">desc_first_letter_case</span> <span class="o">=</span> <span class="n">args</span><span class="p">.</span><span class="n">desc_first_letter_case</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos" data-line="289"></span></a>	<span class="kr">if</span> <span class="n">desc_first_letter_case</span> <span class="o">==</span> <span class="s1">&#39;upper&#39;</span> <span class="ow">or</span> <span class="n">desc_first_letter_case</span> <span class="o">==</span> <span class="s1">&#39;lower&#39;</span> <span class="kr">then</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos" data-line="290"></span></a>		<span class="n">short_description</span> <span class="o">=</span> <span class="n">handleFirstLetterCase</span><span class="p">(</span><span class="n">short_description</span><span class="p">,</span> <span class="n">desc_first_letter_case</span><span class="p">)</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos" data-line="291"></span></a>	<span class="kr">end</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos" data-line="292"></span></a>	
</span><span id="L-293"><a href="#L-293"><span class="linenos" data-line="293"></span></a>	<span class="kr">return</span> <span class="n">formatResult</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">dash</span><span class="p">,</span> <span class="p">(</span><span class="n">short_description</span> <span class="ow">or</span> <span class="n">fallback</span><span class="p">)</span><span class="o">..</span><span class="n">maintenance</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">prefix_parentheses</span><span class="p">)</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos" data-line="294"></span></a><span class="kr">end</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos" data-line="295"></span></a>
</span><span id="L-296"><a href="#L-296"><span class="linenos" data-line="296"></span></a><span class="kd">local</span> <span class="n">p</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos" data-line="297"></span></a>
</span><span id="L-298"><a href="#L-298"><span class="linenos" data-line="298"></span></a><span class="kr">function</span> <span class="nc">p</span><span class="p">.</span><span class="nf">main</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos" data-line="299"></span></a>	<span class="kd">local</span> <span class="n">args</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="s1">&#39;Module:Arguments&#39;</span> <span class="p">).</span><span class="n">getArgs</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos" data-line="300"></span></a>	<span class="kr">if</span> <span class="n">isEmpty</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="kr">then</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos" data-line="301"></span></a>		<span class="kr">return</span> <span class="n">alarmingMessage</span><span class="p">(</span><span class="s1">&#39;could not getArgs&#39;</span><span class="p">)</span> <span class="c1">-- This really would be alarming.</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos" data-line="302"></span></a>	<span class="kr">end</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos" data-line="303"></span></a>	<span class="kr">return</span> <span class="n">annotatedLink</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos" data-line="304"></span></a><span class="kr">end</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos" data-line="305"></span></a>
</span><span id="L-306"><a href="#L-306"><span class="linenos" data-line="306"></span></a><span class="kr">return</span> <span class="n">p</span>
</span></pre></div>
<!-- 
NewPP limit report
Parsed by mw‐web.codfw.main‐779c5f569f‐pjtg5
Cached time: 20250328221539
Cache expiry: 2592000
Reduced expiry: false
Complications: [vary‐revision‐sha1, vary‐page‐id, show‐toc]
CPU time usage: 0.321 seconds
Real time usage: 0.464 seconds
Preprocessor visited node count: 2036/1000000
Post‐expand include size: 73629/2097152 bytes
Template argument size: 3276/2097152 bytes
Highest expansion depth: 20/100
Expensive parser function count: 11/500
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 13345/5000000 bytes
Lua time usage: 0.220/10.000 seconds
Lua memory usage: 12332906/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  250.331      1 Module:Annotated_link/doc
100.00%  250.331      1 -total
 26.24%   65.675      1 Template:Module_rating
 25.30%   63.335      2 Template:Module_other
 17.76%   44.455      2 Template:Ombox
  8.47%   21.195      1 Template:Main
  7.73%   19.353      1 Template:Module_rating/protected
  6.93%   17.352      1 Template:Lua
  6.48%   16.214      2 Template:Info
  6.21%   15.541      1 Template:High-use
-->
</div><!--esi <esi:include src="/esitest-fa8a495983347898/content" /> --><noscript><img src="https://login.wikimedia.org/wiki/Special:CentralAutoLogin/start?useformat=desktop&amp;type=1x1&amp;usesul3=0" alt="" width="1" height="1" style="border: none; position: absolute;"></noscript>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Module:Annotated_link&amp;oldid=1193211851">https://en.wikipedia.org/w/index.php?title=Module:Annotated_link&amp;oldid=1193211851</a>"</div></div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="/wiki/Category:Modules_subject_to_page_protection" title="Category:Modules subject to page protection">Modules subject to page protection</a></li><li><a href="/wiki/Category:WikiProject_Short_descriptions" title="Category:WikiProject Short descriptions">WikiProject Short descriptions</a></li><li><a href="/wiki/Category:Link_modules" title="Category:Link modules">Link modules</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="/wiki/Category:Wikipedia_template-protected_modules" title="Category:Wikipedia template-protected modules">Wikipedia template-protected modules</a></li><li><a href="/wiki/Category:Pages_displaying_wikidata_descriptions_as_a_fallback_via_Module:Annotated_link" title="Category:Pages displaying wikidata descriptions as a fallback via Module:Annotated link">Pages displaying wikidata descriptions as a fallback via Module:Annotated link</a></li></ul></div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 2 January 2024, at 16:59<span class="anonymous-show">&#160;(UTC)</span>.</li>
	<li id="footer-info-copyright">Text is available under the <a href="/wiki/Wikipedia:Text_of_the_Creative_Commons_Attribution-ShareAlike_4.0_International_License" title="Wikipedia:Text of the Creative Commons Attribution-ShareAlike 4.0 International License">Creative Commons Attribution-ShareAlike 4.0 License</a>;
additional terms may apply. By using this site, you agree to the <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Terms_of_Use" class="extiw" title="foundation:Special:MyLanguage/Policy:Terms of Use">Terms of Use</a> and <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy" class="extiw" title="foundation:Special:MyLanguage/Policy:Privacy policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a rel="nofollow" class="external text" href="https://wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Wikipedia:About">About Wikipedia</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/Wikipedia:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-contact"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
	<li id="footer-places-wm-codeofconduct"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Universal_Code_of_Conduct">Code of Conduct</a></li>
	<li id="footer-places-developers"><a href="https://developer.wikimedia.org">Developers</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/en.wikipedia.org">Statistics</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Cookie_statement">Cookie statement</a></li>
	<li id="footer-places-mobileview"><a href="//en.m.wikipedia.org/w/index.php?title=Module:Annotated_link&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.wikimedia.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/static/images/footer/wikimedia-button.svg" width="84" height="29"><img src="/static/images/footer/wikimedia.svg" width="25" height="25" alt="Wikimedia Foundation" lang="en" loading="lazy"></picture></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/w/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/w/resources/assets/mediawiki_compact.svg" alt="Powered by MediaWiki" lang="en" width="25" height="25" loading="lazy"></picture></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left vector-button-flush-right" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/w/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div  class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input
									class="cdx-text-input__input"
									
									type="search" name="search" placeholder="Search Wikipedia">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left"  >
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox "  aria-label="Toggle the table of contents"  >
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true" ><span class="mw-page-title-namespace">Module</span><span class="mw-page-title-separator">:</span><span class="mw-page-title-main">Annotated link</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<button class="cdx-button cdx-button--weight-quiet mw-interlanguage-selector" id="p-lang-btn-sticky-header" tabindex="-1" data-event-name="ui.dropdown-p-lang-btn-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-language mw-ui-icon-wikimedia-wikimedia-language"></span>

<span>10 languages</span>
			</button>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgHostname":"mw-web.codfw.main-779c5f569f-pjtg5","wgBackendResponseTime":685,"wgPageParseReport":{"limitreport":{"cputime":"0.321","walltime":"0.464","ppvisitednodes":{"value":2036,"limit":1000000},"postexpandincludesize":{"value":73629,"limit":2097152},"templateargumentsize":{"value":3276,"limit":2097152},"expansiondepth":{"value":20,"limit":100},"expensivefunctioncount":{"value":11,"limit":500},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":13345,"limit":5000000},"entityaccesscount":{"value":0,"limit":400},"timingprofile":["100.00%  250.331      1 Module:Annotated_link/doc","100.00%  250.331      1 -total"," 26.24%   65.675      1 Template:Module_rating"," 25.30%   63.335      2 Template:Module_other"," 17.76%   44.455      2 Template:Ombox","  8.47%   21.195      1 Template:Main","  7.73%   19.353      1 Template:Module_rating/protected","  6.93%   17.352      1 Template:Lua","  6.48%   16.214      2 Template:Info","  6.21%   15.541      1 Template:High-use"]},"scribunto":{"limitreport-timeusage":{"value":"0.220","limit":"10.000"},"limitreport-memusage":{"value":12332906,"limit":52428800}},"cachereport":{"origin":"mw-web.codfw.main-779c5f569f-pjtg5","timestamp":"20250328221539","ttl":2592000,"transientcontent":false}}});});</script>
</body>
</html>